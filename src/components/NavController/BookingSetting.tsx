import { Popover } from "antd";
import HomeContext from "src/components/Book/HomeContext";
import {
  IoSettingsOutline,
  IoRefreshCircleOutline,
  IoArrowDown,
  IoArrowUp,
} from "react-icons/io5";
import React, { Fragment, useState, useContext, useEffect } from "react";
import { Slider, Segmented } from "antd";
import cc from "classnames";
import styled from "styled-components";
import { UpdateGlobPara } from "services/Salons/UpdateGlobPara";

import { Switch } from "antd";
import {
  set_ListElm_Title,
  set_ListElm_Appt,
} from "src/components/Book/book-slice";
const SegmentedWrap = styled.div`
  .ant-segmented .ant-segmented-block .ant-segmented-item {
    border-radius: 30px;
  }
  .ant-segmented-group {
    border-radius: 30px;
  }
`;

function BookingSetting() {
  const bookContext = useContext(HomeContext)[0];
  const updateGlobPara = new UpdateGlobPara();
  const [numberTime, setNumberTime] = useState<number>(1);
  const [isUp, aSetIsUp] = React.useState<boolean>(true);
  const [isClockIn, setIsClockIn] = useState<boolean>(false);

  useState<NodeListOf<Element>>();
  // Increase salon appointment
  const inc = (event) => {
    try {
      updateGlobPara
        .updateGlobPara("AddMoreSalonAppt", bookContext.countSalonAPPT + 1)
        .then((res) => {
          if (res.status === 200) {
            bookContext.setCountSalonAPPT(bookContext.countSalonAPPT + 1);
            bookContext.setIsAddNewSaLonAPPT(true);
          }
        })
        .catch(console.error);
    } catch (err) {
      console.log(err);
    }
  };
  // Descrease salon appointment
  const dec = () => {
    bookContext.countSalonAPPT > 0 &&
      updateGlobPara
        .updateGlobPara("AddMoreSalonAppt", bookContext.countSalonAPPT - 1)
        .then((res) => {
          if (res.status === 200) {
            bookContext.setCountSalonAPPT(bookContext.countSalonAPPT - 1);
          }
        })
        .catch(console.error);
  };
  // Scale calendar
  const modifyWidthColumn = (v) => {
    // let w = v * document.querySelectorAll(".rbc-time-header-content").length;
    // document.getElementById("time-view")!.style.width = w + "px";
    set_ListElm_Title(v);
    if (bookContext._listElm) {
      bookContext._listElm.forEach((element) => {
        element.setAttribute("style", `min-width:${v}px`);
      });
    }

    if (bookContext._listElm_Title) {
      bookContext._listElm_Title.forEach((element) => {
        element.setAttribute("style", `min-width:${v}px`);
      });
    }
    if (bookContext._listElm_Salon_Appt) {
      bookContext._listElm_Salon_Appt.forEach((element) => {
        element.setAttribute(
          "style",
          `min-width:${bookContext.valueSlideSalon}px ;
         left:${bookContext.valueSlideSalon * element.id + 81}px`
        );
      });
    }
  };

  const modifyHeightTimeSlot = (v) => {
    if (bookContext._listElm_Time_Slot) {
      bookContext._listElm_Time_Slot.forEach((element) => {
        element.setAttribute("style", `min-height:${v}px`);
      });
    }
  };

  const modifyWidthSalonAPPT = (v) => {
    if (bookContext._listElm_Salon_Appt) {
      bookContext._listElm_Salon_Appt.forEach((element) => {
        element.setAttribute(
          "style",
          `min-width:${v}px;
         left:${v * element.id + 81}px`
        );
      });
    }
  };

  useEffect(() => {
    if (bookContext._listElm) {
      bookContext._listElm.forEach((element) => {
        element.setAttribute(
          "style",
          `min-width:${bookContext.valueSlideTech}px`
        );
      });
    }

    if (bookContext._listElm_Title) {
      bookContext._listElm_Title.forEach((element) => {
        element.setAttribute(
          "style",
          `min-width:${bookContext.valueSlideTech}px`
        );
      });
    }
    if (bookContext._listElm_Salon_Appt) {
      bookContext._listElm_Salon_Appt.forEach((element) => {
        element.setAttribute(
          "style",
          `min-width:${bookContext.valueSlideSalon}px ;
         left:${bookContext.valueSlideSalon * element.id + 81}px`
        );
      });
    }
  }, [bookContext._listElm_Salon_Appt, bookContext.valueSlideSalon]);

  const handleToggleSegment = (e) => {
    e == "Clock-In/Turn" ? setIsClockIn(true) : setIsClockIn(false);
    e == "General" && aSetIsUp(false);
  };

  const handleResetSlideCalendar = () => {
    modifyHeightTimeSlot(25);
    bookContext.setValueSlideCalendar(25);
  };
  const handleResetSlideTech = () => {
    bookContext.setValueSlideTech(100);
    bookContext.setValueSlideSalon(100);
  };
  const handleResetSlideSalonAPPT = () => {
    bookContext.setValueSlideSalon(bookContext.valueSlideTech);
  };

  useEffect(() => {
    isUp ? bookContext.setOrderby(true) : bookContext.setOrderby(false);
  }, [isUp]);
  const bookingSetting = (
    <div className="w-[440px] p-2 m-0 booking-setting">
      <Fragment>
        <div className="space-y-7 pl-1 pt-2 pr-3">
          <div className="flex w-full space-x-2">
            <span className=" text-setting-tech">Calender</span>
            <Slider
              className="w-[200px] h-auto pt-0.5"
              min={15}
              max={40}
              step={5}
              value={bookContext.valueSlideCalendar}
              onChange={(v) => {
                bookContext.setValueSlideCalendar(v);
                modifyHeightTimeSlot(v);
              }}
              defaultValue={bookContext.valueSlideCalendar}
              tipFormatter={null}
            />
            <span className=" text-setting-tech">
              ({bookContext.valueSlideCalendar} px)
            </span>
            <div
              className="border border-gray-300 text-mango-gray-5  cursor-pointer rounded-md shadow-md 
            p-0.5 m-auto  hover:text-mango-green-2"
              onClick={handleResetSlideCalendar}
            >
              <svg
                version="1.1"
                fill="currentColor"
                xmlns="http://www.w3.org/2000/svg"
                stroke="currentColor"
                className=" h-7 w-7 p-0.5"
                viewBox="0 0 420.725 420.725"
              >
                <path
                  strokeWidth="2"
                  d="M210.164,151.214c-32.691,0-59.288,26.597-59.288,59.289c0,32.691,26.597,59.288,59.288,59.288
	c32.693,0,59.291-26.597,59.291-59.288C269.455,177.81,242.858,151.214,210.164,151.214z M210.164,251.791
	c-22.767,0-41.288-18.521-41.288-41.288s18.521-41.289,41.288-41.289c22.768,0,41.291,18.522,41.291,41.289
	S232.932,251.791,210.164,251.791z M207.24,400.762c-0.298,4.77-4.259,8.439-8.974,8.439c-0.188,0-0.378-0.006-0.569-0.018
	c-48.439-3.021-94.036-23.604-128.39-57.954C44.98,326.9,27.559,296.932,18.39,264.309l-0.694,2.593
	c-1.287,4.802-6.217,7.65-11.023,6.363c-4.801-1.287-7.649-6.222-6.363-11.023l11.282-42.093c0.149-0.614,0.362-1.205,0.631-1.765
	c0.57-1.191,1.385-2.216,2.363-3.027c1.02-0.848,2.23-1.477,3.567-1.81c0.991-0.249,2.032-0.332,3.085-0.224
	c1.073,0.106,2.096,0.403,3.03,0.857c1.181,0.572,2.197,1.385,3.003,2.359c0.839,1.012,1.462,2.214,1.795,3.538
	c0.151,0.598,0.242,1.215,0.267,1.842c2.792,43.983,21.504,85.38,52.703,116.582c31.249,31.246,72.724,49.969,116.783,52.717
	C203.78,391.528,207.55,395.801,207.24,400.762z M420.416,158.11l-11.331,42.291c-0.453,1.69-1.357,3.139-2.55,4.249
	c-1.51,1.588-3.601,2.632-5.96,2.779c-0.19,0.012-0.381,0.018-0.569,0.018c-4.715,0-8.676-3.669-8.974-8.439
	c-2.749-44.065-21.471-85.54-52.718-116.784c-31.248-31.249-72.722-49.971-116.783-52.718c-4.961-0.309-8.732-4.581-8.423-9.542
	c0.309-4.961,4.603-8.725,9.542-8.423c48.443,3.02,94.04,23.602,128.392,57.954c24.453,24.451,41.928,54.601,51.059,87.422
	l0.929-3.465c1.286-4.801,6.223-7.65,11.022-6.364C418.854,148.374,421.702,153.309,420.416,158.11z M342.286,134.084
	c-9.061-15.695-23.963-31.483-36.432-24.936l-23.568,10.532c-9.022-7.186-18.956-12.925-29.646-17.126l-2.671-25.741
	c-0.641-14.019-21.735-19.012-39.805-19.012c-18.125,0-39.25,5.012-39.809,19.083l-2.666,25.669
	c-10.687,4.202-20.62,9.94-29.645,17.126l-23.605-10.55c-12.471-6.495-27.354,9.293-36.399,24.953
	c-9.061,15.698-15.281,36.5-3.376,44.018l20.823,15.086c-0.855,5.716-1.287,11.513-1.287,17.302c0,5.708,0.421,11.43,1.255,17.075
	l-20.79,15.063c-11.901,7.517-5.684,28.318,3.376,44.02c9.039,15.651,23.916,31.431,36.383,24.958l23.419-10.464
	c9.083,7.267,19.093,13.062,29.875,17.296l2.638,25.406c0.559,14.071,21.684,19.082,39.809,19.082
	c18.069,0,39.164-4.993,39.805-19.012l2.643-25.478c10.783-4.235,20.795-10.031,29.877-17.298l23.396,10.454
	c3.693,1.901,10.915,3.326,20.904-5.334c5.39-4.673,10.895-11.639,15.498-19.613c9.032-15.644,15.256-36.401,3.446-43.972
	l-20.857-15.11c0.833-5.641,1.254-11.36,1.254-17.073c0-5.794-0.432-11.591-1.287-17.3l20.901-15.141
	C357.539,170.472,351.317,149.722,342.286,134.084z M309.727,181.911c-2.856,2.069-4.241,5.616-3.542,9.073
	c1.29,6.38,1.944,12.941,1.944,19.504c0,6.486-0.641,12.981-1.904,19.305c-0.69,3.451,0.695,6.987,3.545,9.052l24.47,17.728
	c0.013,2.871-1.48,10.574-7.541,21.071c-6.058,10.492-11.978,15.637-14.474,17.065l-27.541-12.307
	c-3.225-1.441-6.993-0.862-9.636,1.477c-9.896,8.756-21.225,15.315-33.673,19.497c-3.344,1.122-5.723,4.095-6.087,7.603
	l-3.105,29.941c-2.482,1.447-9.899,4.004-22.019,4.004c-12.113,0-19.529-2.555-22.016-4.002l-3.107-29.943
	c-0.364-3.509-2.744-6.48-6.087-7.604c-12.446-4.179-23.775-10.738-33.672-19.493c-2.645-2.34-6.41-2.917-9.636-1.477
	l-27.539,12.306c-2.495-1.427-8.417-6.571-14.478-17.064c-6.055-10.494-7.552-18.192-7.542-21.068l24.473-17.73
	c2.85-2.064,4.234-5.6,3.546-9.05c-1.265-6.335-1.906-12.831-1.906-19.31c0-6.554,0.654-13.117,1.944-19.51
	c0.697-3.455-0.688-7-3.542-9.068l-24.515-17.761c-0.011-2.876,1.485-10.575,7.541-21.066c6.061-10.495,11.982-15.64,14.478-17.067
	l27.729,12.392c3.216,1.438,6.974,0.865,9.618-1.461c9.855-8.675,21.118-15.181,33.477-19.337c3.341-1.123,5.719-4.095,6.083-7.601
	l3.136-30.205c2.486-1.447,9.902-4.002,22.016-4.002c12.12,0,19.537,2.557,22.019,4.004l3.134,30.204
	c0.364,3.508,2.742,6.479,6.085,7.603c12.361,4.154,23.623,10.659,33.473,19.334c2.644,2.329,6.402,2.9,9.62,1.463l27.729-12.392
	c2.496,1.429,8.417,6.574,14.475,17.066c6.062,10.498,7.555,18.201,7.541,21.071L309.727,181.911z"
                />
              </svg>
            </div>
          </div>
          <div className="flex w-full space-x-2  ">
            <span className=" text-setting-tech">Tech</span>
            <Slider
              className="w-[200px] h-auto  pt-0.5"
              min={50}
              max={200}
              step={10}
              value={bookContext.valueSlideTech}
              onChange={(v) => {
                bookContext.setValueSlideTech(v);
                modifyWidthColumn(v);
                bookContext.setValueSlideSalon(v * numberTime);
              }}
              defaultValue={bookContext.valueSlideTech}
              tipFormatter={null}
            />
            <span className=" text-setting-tech">
              ({bookContext.valueSlideTech} px)
            </span>
            <div
              className="border border-gray-300 text-mango-gray-5  cursor-pointer  rounded-md 
            shadow-md p-0.5 m-auto  hover:text-mango-green-2"
              onClick={handleResetSlideTech}
            >
              <svg
                version="1.1"
                fill="currentColor"
                xmlns="http://www.w3.org/2000/svg"
                stroke="currentColor"
                className=" h-7 w-7 p-0.5"
                viewBox="0 0 420.725 420.725"
              >
                <path
                  strokeWidth="2"
                  d="M210.164,151.214c-32.691,0-59.288,26.597-59.288,59.289c0,32.691,26.597,59.288,59.288,59.288
	c32.693,0,59.291-26.597,59.291-59.288C269.455,177.81,242.858,151.214,210.164,151.214z M210.164,251.791
	c-22.767,0-41.288-18.521-41.288-41.288s18.521-41.289,41.288-41.289c22.768,0,41.291,18.522,41.291,41.289
	S232.932,251.791,210.164,251.791z M207.24,400.762c-0.298,4.77-4.259,8.439-8.974,8.439c-0.188,0-0.378-0.006-0.569-0.018
	c-48.439-3.021-94.036-23.604-128.39-57.954C44.98,326.9,27.559,296.932,18.39,264.309l-0.694,2.593
	c-1.287,4.802-6.217,7.65-11.023,6.363c-4.801-1.287-7.649-6.222-6.363-11.023l11.282-42.093c0.149-0.614,0.362-1.205,0.631-1.765
	c0.57-1.191,1.385-2.216,2.363-3.027c1.02-0.848,2.23-1.477,3.567-1.81c0.991-0.249,2.032-0.332,3.085-0.224
	c1.073,0.106,2.096,0.403,3.03,0.857c1.181,0.572,2.197,1.385,3.003,2.359c0.839,1.012,1.462,2.214,1.795,3.538
	c0.151,0.598,0.242,1.215,0.267,1.842c2.792,43.983,21.504,85.38,52.703,116.582c31.249,31.246,72.724,49.969,116.783,52.717
	C203.78,391.528,207.55,395.801,207.24,400.762z M420.416,158.11l-11.331,42.291c-0.453,1.69-1.357,3.139-2.55,4.249
	c-1.51,1.588-3.601,2.632-5.96,2.779c-0.19,0.012-0.381,0.018-0.569,0.018c-4.715,0-8.676-3.669-8.974-8.439
	c-2.749-44.065-21.471-85.54-52.718-116.784c-31.248-31.249-72.722-49.971-116.783-52.718c-4.961-0.309-8.732-4.581-8.423-9.542
	c0.309-4.961,4.603-8.725,9.542-8.423c48.443,3.02,94.04,23.602,128.392,57.954c24.453,24.451,41.928,54.601,51.059,87.422
	l0.929-3.465c1.286-4.801,6.223-7.65,11.022-6.364C418.854,148.374,421.702,153.309,420.416,158.11z M342.286,134.084
	c-9.061-15.695-23.963-31.483-36.432-24.936l-23.568,10.532c-9.022-7.186-18.956-12.925-29.646-17.126l-2.671-25.741
	c-0.641-14.019-21.735-19.012-39.805-19.012c-18.125,0-39.25,5.012-39.809,19.083l-2.666,25.669
	c-10.687,4.202-20.62,9.94-29.645,17.126l-23.605-10.55c-12.471-6.495-27.354,9.293-36.399,24.953
	c-9.061,15.698-15.281,36.5-3.376,44.018l20.823,15.086c-0.855,5.716-1.287,11.513-1.287,17.302c0,5.708,0.421,11.43,1.255,17.075
	l-20.79,15.063c-11.901,7.517-5.684,28.318,3.376,44.02c9.039,15.651,23.916,31.431,36.383,24.958l23.419-10.464
	c9.083,7.267,19.093,13.062,29.875,17.296l2.638,25.406c0.559,14.071,21.684,19.082,39.809,19.082
	c18.069,0,39.164-4.993,39.805-19.012l2.643-25.478c10.783-4.235,20.795-10.031,29.877-17.298l23.396,10.454
	c3.693,1.901,10.915,3.326,20.904-5.334c5.39-4.673,10.895-11.639,15.498-19.613c9.032-15.644,15.256-36.401,3.446-43.972
	l-20.857-15.11c0.833-5.641,1.254-11.36,1.254-17.073c0-5.794-0.432-11.591-1.287-17.3l20.901-15.141
	C357.539,170.472,351.317,149.722,342.286,134.084z M309.727,181.911c-2.856,2.069-4.241,5.616-3.542,9.073
	c1.29,6.38,1.944,12.941,1.944,19.504c0,6.486-0.641,12.981-1.904,19.305c-0.69,3.451,0.695,6.987,3.545,9.052l24.47,17.728
	c0.013,2.871-1.48,10.574-7.541,21.071c-6.058,10.492-11.978,15.637-14.474,17.065l-27.541-12.307
	c-3.225-1.441-6.993-0.862-9.636,1.477c-9.896,8.756-21.225,15.315-33.673,19.497c-3.344,1.122-5.723,4.095-6.087,7.603
	l-3.105,29.941c-2.482,1.447-9.899,4.004-22.019,4.004c-12.113,0-19.529-2.555-22.016-4.002l-3.107-29.943
	c-0.364-3.509-2.744-6.48-6.087-7.604c-12.446-4.179-23.775-10.738-33.672-19.493c-2.645-2.34-6.41-2.917-9.636-1.477
	l-27.539,12.306c-2.495-1.427-8.417-6.571-14.478-17.064c-6.055-10.494-7.552-18.192-7.542-21.068l24.473-17.73
	c2.85-2.064,4.234-5.6,3.546-9.05c-1.265-6.335-1.906-12.831-1.906-19.31c0-6.554,0.654-13.117,1.944-19.51
	c0.697-3.455-0.688-7-3.542-9.068l-24.515-17.761c-0.011-2.876,1.485-10.575,7.541-21.066c6.061-10.495,11.982-15.64,14.478-17.067
	l27.729,12.392c3.216,1.438,6.974,0.865,9.618-1.461c9.855-8.675,21.118-15.181,33.477-19.337c3.341-1.123,5.719-4.095,6.083-7.601
	l3.136-30.205c2.486-1.447,9.902-4.002,22.016-4.002c12.12,0,19.537,2.557,22.019,4.004l3.134,30.204
	c0.364,3.508,2.742,6.479,6.085,7.603c12.361,4.154,23.623,10.659,33.473,19.334c2.644,2.329,6.402,2.9,9.62,1.463l27.729-12.392
	c2.496,1.429,8.417,6.574,14.475,17.066c6.062,10.498,7.555,18.201,7.541,21.071L309.727,181.911z"
                />
              </svg>
            </div>
          </div>
          <div className="flex w-full space-x-2  ">
            <span className=" text-setting-tech">Salon</span>
            <Slider
              className="w-[200px] h-auto pt-0.5"
              min={bookContext.valueSlideTech}
              max={bookContext.valueSlideTech * 4}
              step={bookContext.valueSlideTech}
              value={bookContext.valueSlideSalon}
              onChange={(v) => {
                bookContext.setValueSlideSalon(v);
                modifyWidthSalonAPPT(v);
                setNumberTime(
                  Math.floor((v / (bookContext.valueSlideTech * 4)) * 4)
                );
              }}
              defaultValue={bookContext.valueSlideSalon}
              tipFormatter={null}
            />
            <span className=" text-setting-tech">
              ({bookContext.valueSlideSalon} px)
            </span>
            <div
              className="border border-gray-300 text-mango-gray-5 rounded-md  cursor-pointer  
            shadow-md p-0.5 m-auto  hover:text-mango-green-2"
              onClick={handleResetSlideSalonAPPT}
            >
              <svg
                version="1.1"
                fill="currentColor"
                xmlns="http://www.w3.org/2000/svg"
                stroke="currentColor"
                className=" h-7 w-7 p-0.5"
                viewBox="0 0 420.725 420.725"
              >
                <path
                  strokeWidth="2"
                  d="M210.164,151.214c-32.691,0-59.288,26.597-59.288,59.289c0,32.691,26.597,59.288,59.288,59.288
	c32.693,0,59.291-26.597,59.291-59.288C269.455,177.81,242.858,151.214,210.164,151.214z M210.164,251.791
	c-22.767,0-41.288-18.521-41.288-41.288s18.521-41.289,41.288-41.289c22.768,0,41.291,18.522,41.291,41.289
	S232.932,251.791,210.164,251.791z M207.24,400.762c-0.298,4.77-4.259,8.439-8.974,8.439c-0.188,0-0.378-0.006-0.569-0.018
	c-48.439-3.021-94.036-23.604-128.39-57.954C44.98,326.9,27.559,296.932,18.39,264.309l-0.694,2.593
	c-1.287,4.802-6.217,7.65-11.023,6.363c-4.801-1.287-7.649-6.222-6.363-11.023l11.282-42.093c0.149-0.614,0.362-1.205,0.631-1.765
	c0.57-1.191,1.385-2.216,2.363-3.027c1.02-0.848,2.23-1.477,3.567-1.81c0.991-0.249,2.032-0.332,3.085-0.224
	c1.073,0.106,2.096,0.403,3.03,0.857c1.181,0.572,2.197,1.385,3.003,2.359c0.839,1.012,1.462,2.214,1.795,3.538
	c0.151,0.598,0.242,1.215,0.267,1.842c2.792,43.983,21.504,85.38,52.703,116.582c31.249,31.246,72.724,49.969,116.783,52.717
	C203.78,391.528,207.55,395.801,207.24,400.762z M420.416,158.11l-11.331,42.291c-0.453,1.69-1.357,3.139-2.55,4.249
	c-1.51,1.588-3.601,2.632-5.96,2.779c-0.19,0.012-0.381,0.018-0.569,0.018c-4.715,0-8.676-3.669-8.974-8.439
	c-2.749-44.065-21.471-85.54-52.718-116.784c-31.248-31.249-72.722-49.971-116.783-52.718c-4.961-0.309-8.732-4.581-8.423-9.542
	c0.309-4.961,4.603-8.725,9.542-8.423c48.443,3.02,94.04,23.602,128.392,57.954c24.453,24.451,41.928,54.601,51.059,87.422
	l0.929-3.465c1.286-4.801,6.223-7.65,11.022-6.364C418.854,148.374,421.702,153.309,420.416,158.11z M342.286,134.084
	c-9.061-15.695-23.963-31.483-36.432-24.936l-23.568,10.532c-9.022-7.186-18.956-12.925-29.646-17.126l-2.671-25.741
	c-0.641-14.019-21.735-19.012-39.805-19.012c-18.125,0-39.25,5.012-39.809,19.083l-2.666,25.669
	c-10.687,4.202-20.62,9.94-29.645,17.126l-23.605-10.55c-12.471-6.495-27.354,9.293-36.399,24.953
	c-9.061,15.698-15.281,36.5-3.376,44.018l20.823,15.086c-0.855,5.716-1.287,11.513-1.287,17.302c0,5.708,0.421,11.43,1.255,17.075
	l-20.79,15.063c-11.901,7.517-5.684,28.318,3.376,44.02c9.039,15.651,23.916,31.431,36.383,24.958l23.419-10.464
	c9.083,7.267,19.093,13.062,29.875,17.296l2.638,25.406c0.559,14.071,21.684,19.082,39.809,19.082
	c18.069,0,39.164-4.993,39.805-19.012l2.643-25.478c10.783-4.235,20.795-10.031,29.877-17.298l23.396,10.454
	c3.693,1.901,10.915,3.326,20.904-5.334c5.39-4.673,10.895-11.639,15.498-19.613c9.032-15.644,15.256-36.401,3.446-43.972
	l-20.857-15.11c0.833-5.641,1.254-11.36,1.254-17.073c0-5.794-0.432-11.591-1.287-17.3l20.901-15.141
	C357.539,170.472,351.317,149.722,342.286,134.084z M309.727,181.911c-2.856,2.069-4.241,5.616-3.542,9.073
	c1.29,6.38,1.944,12.941,1.944,19.504c0,6.486-0.641,12.981-1.904,19.305c-0.69,3.451,0.695,6.987,3.545,9.052l24.47,17.728
	c0.013,2.871-1.48,10.574-7.541,21.071c-6.058,10.492-11.978,15.637-14.474,17.065l-27.541-12.307
	c-3.225-1.441-6.993-0.862-9.636,1.477c-9.896,8.756-21.225,15.315-33.673,19.497c-3.344,1.122-5.723,4.095-6.087,7.603
	l-3.105,29.941c-2.482,1.447-9.899,4.004-22.019,4.004c-12.113,0-19.529-2.555-22.016-4.002l-3.107-29.943
	c-0.364-3.509-2.744-6.48-6.087-7.604c-12.446-4.179-23.775-10.738-33.672-19.493c-2.645-2.34-6.41-2.917-9.636-1.477
	l-27.539,12.306c-2.495-1.427-8.417-6.571-14.478-17.064c-6.055-10.494-7.552-18.192-7.542-21.068l24.473-17.73
	c2.85-2.064,4.234-5.6,3.546-9.05c-1.265-6.335-1.906-12.831-1.906-19.31c0-6.554,0.654-13.117,1.944-19.51
	c0.697-3.455-0.688-7-3.542-9.068l-24.515-17.761c-0.011-2.876,1.485-10.575,7.541-21.066c6.061-10.495,11.982-15.64,14.478-17.067
	l27.729,12.392c3.216,1.438,6.974,0.865,9.618-1.461c9.855-8.675,21.118-15.181,33.477-19.337c3.341-1.123,5.719-4.095,6.083-7.601
	l3.136-30.205c2.486-1.447,9.902-4.002,22.016-4.002c12.12,0,19.537,2.557,22.019,4.004l3.134,30.204
	c0.364,3.508,2.742,6.479,6.085,7.603c12.361,4.154,23.623,10.659,33.473,19.334c2.644,2.329,6.402,2.9,9.62,1.463l27.729-12.392
	c2.496,1.429,8.417,6.574,14.475,17.066c6.062,10.498,7.555,18.201,7.541,21.071L309.727,181.911z"
                />
              </svg>
            </div>
          </div>
        </div>
      </Fragment>
      <div className="flex justify-between  border-t -mx-2 border-gray-200 p-3  w-auto space-x-2 mt-4">
        <span className="title ml-1">SALON APPOINTMENT</span>
        <div>
          <div
            className="flex border border-gray-400 rounded-sm h-9 mr-2 "
            style={{ boxShadow: "0px 0px 15px #00000033" }}
          >
            <button
              className="text-2xl font-bold  w-10 text-gray-900 hover:bg-mango-gray-1 hover:rounded-l-sm
               flex justify-center text-center "
              onClick={dec}
            >
              -
            </button>

            <span className="text-xl font-bold w-12 text-gray-900 text-center  flex justify-center">
              {bookContext.countSalonAPPT}
            </span>

            <button
              className="text-2xl font-bold w-10 text-gray-900 hover:bg-mango-gray-1 hover:rounded-r-sm
               flex justify-center"
              onClick={inc}
            >
              +
            </button>
          </div>
        </div>
      </div>
      <div className="flex  border-t -mx-2 border-gray-200 p-3 w-auto space-x-3 ">
        <span className="title ml-1">TECH ORDER</span>
        {isClockIn && (
          <div
            onClick={() => {
              aSetIsUp(!isUp);
            }}
            className="border border-gray-300 rounded-md shadow-sm p-0.5 m-auto "
          >
            {isUp ? (
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                className="text-mango-green-2 h-7 w-7 cursor-pointer bi bi-sort-numeric-up-alt"
                fill="currentColor"
                stroke="currentColor"
                viewBox="0 0 16 16"
              >
                <path
                  strokeWidth="0.5"
                  fill-rule="evenodd"
                  d="M11.36 7.098c-1.137 0-1.708-.657-1.762-1.278h1.004c.058.223.343.45.773.45.824 0 1.164-.829
                   1.133-1.856h-.059c-.148.39-.57.742-1.261.742-.91 0-1.72-.613-1.72-1.758 0-1.148.848-1.836 1.973-1.836 
                   1.09 0 2.063.637 2.063 2.688 0 1.867-.723 2.848-2.145 2.848zm.062-2.735c.504 0 .933-.336.933-.972
                    0-.633-.398-1.008-.94-1.008-.52 0-.927.375-.927 1 0 .64.418.98.934.98z"
                />{" "}
                <path
                 strokeWidth="0.5"
                 d="M12.438 8.668V14H11.39V9.684h-.051l-1.211.859v-.969l1.262-.906h1.046zM4.5 13.5a.5.5 0 0 1-1
                  0V3.707L2.354 4.854a.5.5 0 1 1-.708-.708l2-1.999.007-.007a.498.498 0 0 1 .7.006l2 2a.5.5 0 1
                   1-.707.708L4.5 3.707V13.5z" />{" "}
              </svg>
            ) : (
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                stroke="currentColor"
                className="bi bi-sort-numeric-down text-mango-green-2 h-7 w-7 cursor-pointer"
                viewBox="0 0 16 16"
              >
                <path
                  strokeWidth="0.5"
                  d="M12.438 1.668V7H11.39V2.684h-.051l-1.211.859v-.969l1.262-.906h1.046z"
                />{" "}
                <path
                 strokeWidth="0.5"
                  fill-rule="evenodd"
                  d="M11.36 14.098c-1.137 0-1.708-.657-1.762-1.278h1.004c.058.223.343.45.773.45.824 0 1.164-.829
                   1.133-1.856h-.059c-.148.39-.57.742-1.261.742-.91 0-1.72-.613-1.72-1.758 0-1.148.848-1.835 
                   1.973-1.835 1.09 0 2.063.636 2.063 2.687 0 1.867-.723 2.848-2.145 2.848zm.062-2.735c.504 0
                    .933-.336.933-.972 0-.633-.398-1.008-.94-1.008-.52 0-.927.375-.927 1 0 .64.418.98.934.98z"
                />{" "}
                <path strokeWidth="0.5"
                 d="M4.5 2.5a.5.5 0 0 0-1 0v9.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 
                 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L4.5 12.293V2.5z" />{" "}
              </svg>
            )}
          </div>
        )}
      </div>
      <div className=" flex justify-between text-center w-[400px] m-auto bg-mango-gray-1 h-auto p-1 rounded-full">
        <Segmented
          className="rounded-full w-full flex justify-center segmented"
          size="large"
          block
          options={["General", "Clock-In/Turn"]}
          onChange={handleToggleSegment}
        />
      </div>
    </div>
  );
  return (
    <Popover
      overlayClassName="p-0 m-0"
      placement="bottomRight"
      content={bookingSetting}
      trigger="click"
    >
      <SegmentedWrap />
      <div
        className={cc(
          "border border-gray-400 bg-white text-gray-700 w-[45px] h-[45px]  rounded-[4px] hover:bg-mango-primary-blue",
          " active:bg-mango-primary-blue hover:cursor-pointer focus:outline-none hover:text-white focus:bg-mango-primary-blue",
          " focus:font-bold flex items-center justify-center hover:border-mango-primary-blue"
        )}
        style={{ boxShadow: "0px 0px 15px #0000004d" }}
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 23 25"
          fill="currentColor"
          className="w-7 h-7  hover:border-mango-primary-blue"
        >
          <path
            d="M11.5 16.25c-2.07106781 0-3.75-1.6789322-3.75-3.75s1.67893219-3.75 3.75-3.75c2.0710678 0
                     3.75 1.6789322 3.75 3.75s-1.6789322 3.75-3.75 3.75zm0-1.5c1.2426407 0 2.25-1.0073593 
                     2.25-2.25s-1.0073593-2.25-2.25-2.25-2.25 1.0073593-2.25 2.25 1.0073593 2.25 2.25
                      2.25zm10.9787448-5.42006844l-2.3428642 1.77398154c.074956.460828.1131567.9271468.1141178 
                      1.3976291a8.7990045 8.7990045 0 0 1-.1141178 1.3945447l2.3428642 
                      1.7739815c.3015241.2283096.3858781.6454037.1967695.9729399l-2 3.464c-.1891221.3275594-.5925573.463036-.9410484.3160111l-2.7132741-1.1447029c-.723995.5928888-1.5385847 
                      1.0656405-2.4125534 1.4001329l-.3644334 2.9146038C14.1972774 23.9683628 13.878232 24.25 13.5 
                      24.25h-4c-.37823203 0-.69727742-.2816372-.74420501-.6569468l-.36443343-2.9146038c-.87396865-.3344924-1.68855835-.8072441-2.41255339-1.4001329l-2.71327404 
                      1.1447029c-.34849111.1470249-.75192633.0115483-.94104842-.3160111l-2-3.464c-.18910864-.3275362-.1047546-.7446303.1967695-.9729399l2.34226808-1.7735301c-.151305-.9248616-.151305-1.868215 0-2.7930766L.52125521 9.32993156c-.3015241-.22830952-.38587814-.64540364-.1967695-.97293981l2-3.464c.18912209-.32755946.59255731-.46303606.94104842-.31601118l2.71327404 1.14470295c.72399504-.59288883 1.53858474-1.06564053 2.41255339-1.40013293l.36443343-2.91460378C8.80272258 1.03163724 9.12176797.75 9.5.75h4c.378232 0 .6972774.28163724.744205.65694681l.3644334 2.91460378c.8739687.3344924 1.6885584.8072441 2.4125534 1.40013293l2.7132741-1.14470295c.3484911-.14702488.7519263-.01154828.9410484.31601118l2 3.464c.1891086.32753617.1047546.74463029-.1967695.97293981zm-3.8992255 4.72191014A7.29900392 7.29900392 0 0 0 18.7499983 12.5a7.29900392 7.29900392 0 0 0-.170479-1.5518417c-.0629119-.2859409.0463194-.5823504.2797359-.7590899l2.186219-1.65537211-1.3379456-2.3173217-2.5329945 1.06864484c-.2702457.11401393-.5821552.06002736-.7983598-.13818337-.7712135-.70702841-1.68656-1.23843021-2.6829544-1.55758145-.2780881-.08907331-.4791956-.33145245-.5154249-.62120142L12.8379377 2.25h-2.6758754l-.33985729 2.71805319c-.03622935.28974897-.23733681.53212811-.51542488.62120142-.99639443.31915124-1.91174098.85055304-2.68295443 1.55758145-.21620458.19821073-.52811413.2521973-.79835983.13818337l-2.5329945-1.06864484-1.33794556 2.3173217 2.18621898 1.65537211c.23385045.1770681.34301443.4742126.27941134.7605582-.22681545 1.0211388-.22681545 2.079608 0 3.1007468.06360309.2863456-.04556089.5834901-.27941134.7605582l-2.18621898 1.6553721 1.33794556 2.3173217 2.5329945-1.0686448c.2702457-.114014.58215525-.0600274.79835983.1381833.77121345.7070285 1.68656 1.2384302 2.68295443 1.5575815.27808807.0890733.47919553.3314524.51542488.6212014L10.1620623 22.75h2.6758754l.3398573-2.7180532c.0362293-.289749.2373368-.5321281.5154249-.6212014.9963944-.3191513 1.9117409-.850553 2.6829544-1.5575815.2162046-.1982107.5281141-.2521973.7983598-.1381833l2.5329945 
                      1.0686448 1.3379456-2.3173217-2.186219-1.6553721c-.2334165-.1767395-.3426478-.473149-.2797359-.7590899z"
          ></path>
        </svg>
      </div>
      <SegmentedWrap />
    </Popover>
  );
}

export default BookingSetting;
